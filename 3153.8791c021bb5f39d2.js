"use strict";(self.webpackChunkbusu_city_ui=self.webpackChunkbusu_city_ui||[]).push([[3153],{3153:(T,d,i)=>{i.r(d),i.d(d,{TodayPageModule:()=>Z});var l=i(1524),h=i(3699),e=i(3354),g=i(8148),s=i(529),u=i(1002),p=i(6991);function f(r,n){if(1&r&&(e.TgZ(0,"swiper-slide")(1,"span",27),e._uU(2),e.qZA(),e._UZ(3,"img",28),e.TgZ(4,"span",29),e._uU(5),e.qZA()()),2&r){const a=n.$implicit,t=e.oxw();e.xp6(2),e.Oqu(t.weatherService.checkHourIsNow(a.datetimeEpoch)),e.xp6(1),e.Q6J("src","assets/icon/"+a.icon+".svg",e.LSH),e.xp6(2),e.hij(" ",t.weatherService.fahrenheitToCelcius(null==a?null:a.temp),"\xb0 ")}}function m(r,n){1&r&&(e.TgZ(0,"div",30)(1,"button",31),e._uU(2,"BC"),e.qZA(),e._uU(3," Weather App - v1.0.0 "),e.qZA(),e.TgZ(4,"div",32)(5,"ul")(6,"li"),e._uU(7," Do you detect any bugs or errors? "),e.qZA(),e.TgZ(8,"li"),e._uU(9," Or have any ways we can improve this app? "),e.qZA()(),e._UZ(10,"br"),e._uU(11," ...share with the Developer here: "),e._UZ(12,"br"),e._uU(13," +234-7036-2000-96 . "),e.TgZ(14,"p",33),e._uU(15,"THANK YOU!"),e.qZA()())}const w=[{path:"",component:(()=>{class r{constructor(a,t,o,c,b){this.weatherService=a,this.cdr=t,this.router=o,this.platform=c,this.route=b,this.currentIndex=0,this.displayImg="weather.jpg",this.swiperModules=[h.L$],this.platform.ready().then(()=>{this.platform.backButton.subscribeWithPriority(20,()=>{navigator.app.exitApp()})})}ngOnInit(){this.weatherService.newWeatherData.subscribe(a=>{console.log("New Data Arrived"),this.chooseBgImg(),this.weatherService.drawMoonPhase(this.weatherService.todayWeatherData?.moonphase,"moon-phase",40)})}ionViewDidEnter(){this.chooseBgImg(),this.weatherService.drawMoonPhase(this.weatherService.todayWeatherData?.moonphase,"moon-phase",40),this.cdr.detectChanges()}chooseBgImg(){const a=this.weatherService.currentHourData?.conditions?.toLowerCase(),t=(new Date).getHours(),o=t>6&&t<20;this.displayImg=(a?.includes("clear")||a?.includes("sun"))&&o?"clear-day.jpg":a?.includes("clear")&&!o?"clear-night.jpg":a?.includes("rain")&&o?"rainy-day.jpg":a?.includes("rain")&&!o?"rainy-night.jpg":(a?.includes("cloud")||a?.includes("overcast"))&&o?"cloudy-day.jpg":!a?.includes("cloud")&&!a?.includes("overcast")||o?a?.includes("thunder")||a?.includes("storm")?"thunder.jpg":"weather.jpg":"cloudy-night.jpg"}refreshData(a){this.weatherService.getWeatherData(a),setTimeout(()=>{a.target.complete(),this.cdr.detectChanges()},250)}}return r.\u0275fac=function(a){return new(a||r)(e.Y36(g.F),e.Y36(e.sBO),e.Y36(l.F0),e.Y36(s.t4),e.Y36(l.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["healmah-today"]],decls:62,vars:19,consts:[["slot","fixed","closeDuration","200","pullFactor","0.8","pullMin","60","pullMax","120",3,"ionRefresh"],[1,"w:100%","h:100%","d:flex","flex:column","jc:space-between","gap:10","p:16|16|60|16"],[1,"d:flex","jc:space-between"],[1,"rel","d:flex","flex:column","z:10","gap:5","{text-shadow:0|0|1|#1A2833}","{f:beryl-70!}_b"],[1,"f:1.8rem","f:white","f:'Roboto',sans-serif"],[1,"f:1.1rem","f:fade-90"],[1,"f:white","f:4.5rem","f:bold"],[1,"bg:rgb(99,190,168,.8)","f:1rem","w:fit-content","p:5","px:10","r:15","f:white","bb:0|solid|gray-90"],[1,"d:flex","jc:center","gap:.2rem","text-align:right"],[1,"f:blue-32","text-shadow:0|0|1|fade-90"],["id","menu-btn","name","ellipsis-vertical-outline",1,"f:gray-86","f:1.8rem"],[1,"f:fade-90","text-shadow:0|0|1|black","f:1.3rem"],[1,"bg:","d:flex","jc:space-evenly","f:1rem","{d:flex;gap:5;bg:#061011;p:5|10;rt:10}_span"],["icon","droplet",1,"f:#63BEA8"],[1,"f:white"],["icon","solar-panel",1,"f:#63BEA8"],["icon","cloud",1,"f:#63BEA8"],[1,"bg:linear-gradient(120deg,rgba(74,111,201,.5),#061011)","d:flex","jc:space-around","ai:center","rt:5","py:20","rt:10","{d:flex;flex:column;jc:center;ai:center;gap:3px}_ion-label","bt:.2|solid|rgba(255,255,255,.3)"],[1,"f:fade-90","f:1.2em"],[2,"width","20px","height","20px","background-color","#FF8996","border-radius","50%"],[1,"rel"],["id","moon-phase"],[1,"f:white","f:0.8rem","abs","top:50%","translateY(100%)","z:100"],[2,"width","20px","height","20px","background-color","#FFE8B4","border-radius","50%"],[1,"bg:linear-gradient(120deg,rgba(74,111,201,.5),#061011)","rb:30",3,"modules","slidesPerView"],[4,"ngFor","ngForOf"],["trigger","menu-btn","mode","ios","triggerAction","click"],[1,"time","bb:0.2|solid|fade-96"],[3,"src"],[1,"temp"],[1,"d:flex","flex:column","jc:center","ai:center","p:10","f:white"],[1,"bg:beryl-70!","w:70","h:70","r:50%","f:2rem"],[1,"p:15","f:white"],[1,"text-align:center"]],template:function(a,t){1&a&&(e.TgZ(0,"ion-content")(1,"ion-refresher",0),e.NdJ("ionRefresh",function(c){return t.refreshData(c)}),e._UZ(2,"ion-refresher-content"),e.qZA(),e.TgZ(3,"main",1)(4,"header")(5,"div",2)(6,"div",3)(7,"ion-label",4)(8,"b"),e._uU(9,"B"),e.qZA(),e._uU(10,"usu"),e.TgZ(11,"b"),e._uU(12,"C"),e.qZA(),e._uU(13,"ity "),e.TgZ(14,"span",5),e._uU(15," - weather"),e.qZA()(),e.TgZ(16,"h2",6),e._uU(17),e.qZA(),e.TgZ(18,"span",7),e._uU(19),e.qZA()(),e.TgZ(20,"div",8)(21,"ion-text",9),e._uU(22),e.ALo(23,"date"),e.qZA(),e._UZ(24,"ion-icon",10),e.qZA()(),e.TgZ(25,"ion-text",11)(26,"q"),e._uU(27),e.qZA()()(),e.TgZ(28,"div")(29,"div",12)(30,"span"),e._UZ(31,"fa-icon",13),e.TgZ(32,"ion-text",14),e._uU(33),e.qZA()(),e.TgZ(34,"span",14),e._UZ(35,"fa-icon",15),e.TgZ(36,"ion-text",14),e._uU(37),e.TgZ(38,"sup"),e._uU(39,"2"),e.qZA()()(),e.TgZ(40,"span"),e._UZ(41,"fa-icon",16),e.TgZ(42,"ion-text",14),e._uU(43),e.qZA()()(),e.TgZ(44,"div",17)(45,"ion-label",18),e._UZ(46,"span",19),e._uU(47),e.qZA(),e.TgZ(48,"ion-label",20),e._UZ(49,"ion-label",21),e.TgZ(50,"ion-text",22),e._uU(51),e.TgZ(52,"sup"),e._uU(53,"th"),e.qZA()()(),e.TgZ(54,"ion-label",18),e._UZ(55,"span",23),e._uU(56),e.qZA()()(),e.TgZ(57,"div")(58,"swiper-container",24),e.YNc(59,f,6,3,"swiper-slide",25),e.qZA()()(),e.TgZ(60,"ion-popover",26),e.YNc(61,m,16,0,"ng-template"),e.qZA()()),2&a&&(e.xp6(4),e.Gre("h:60% d:flex flex:column jc:space-between r:30 p:15|10|10|15 shadow:0|1|1|gray-18\n    bg:url(","assets/img/"+t.displayImg,") bg:fixed bg:center bg:cover bg:no-repeat bg:#061011"),e.xp6(13),e.hij("",t.weatherService.fahrenheitToCelcius((null==t.weatherService.currentHourData?null:t.weatherService.currentHourData.temp)||0),"\xb0"),e.xp6(2),e.hij(" ",(null==t.weatherService.currentHourData?null:t.weatherService.currentHourData.conditions)||""," "),e.xp6(3),e.Oqu(e.xi3(23,16,null==t.weatherService.todayWeatherData?null:t.weatherService.todayWeatherData.datetime,"LLL d, yyyy")),e.xp6(5),e.hij(" ",(null==t.weatherService.todayWeatherData?null:t.weatherService.todayWeatherData.description)||""," "),e.xp6(6),e.hij(" ",(null==t.weatherService.currentHourData?null:t.weatherService.currentHourData.precipprob)||0," % "),e.xp6(4),e.hij(" ",(null==t.weatherService.todayWeatherData?null:t.weatherService.todayWeatherData.solarenergy)||0," MJ/m"),e.xp6(6),e.hij(" ",(null==t.weatherService.currentHourData?null:t.weatherService.currentHourData.cloudcover)||0," % "),e.xp6(4),e.hij(" ",(null==t.weatherService.todayWeatherData?null:t.weatherService.todayWeatherData.sunrise)||""," "),e.xp6(4),e.hij(" ",t.weatherService.moonAge()||"",""),e.xp6(5),e.hij(" ",(null==t.weatherService.todayWeatherData?null:t.weatherService.todayWeatherData.sunset)||""," "),e.xp6(2),e.Q6J("modules",t.swiperModules)("slidesPerView",5),e.xp6(1),e.Q6J("ngForOf",t.weatherService.todayHours))},dependencies:[u.sg,s.W2,s.gu,s.Q$,s.nJ,s.Wo,s.yW,s.d8,p.BN,u.uU],styles:["ion-popover{--background: linear-gradient(to bottom,rgba(74,111,201,.8),#061011);--min-width: 300px;--width: 300px}  ion-popover ion-content{--background: transparent !important}ion-content[_ngcontent-%COMP%]{--background: transparent}swiper-container[_ngcontent-%COMP%]{max-width:100%;padding:10px}swiper-slide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:7px;color:#fff;margin-right:5px}swiper-slide[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:.85rem}swiper-slide[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:1rem}swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}"]}),r})()}];let y=(()=>{class r{}return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.Bz.forChild(w),l.Bz]}),r})();var v=i(3360);let Z=(()=>{class r{}return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[v._,y]}),r})()}}]);